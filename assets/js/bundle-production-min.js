(f=>{({init:function(){this.dom(),this.headerHeightCalculate(),this.megaMenuWrap(),this.drawerAnimation(),this.mobileDropdownMenu(),this.slider(),this.countdown(),this.hoverSlider(),this.stickyCategory(),this.productQuantity(),this.themeLoginTab(),this.themeMyAccountMenu(),this.themeQuickView()},dom:function(){console.log("Fynode Theme");[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(e=>new bootstrap.Tooltip(e))},domReady:function(e){"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)},createElement:function(e,t,a){t=document.createElement(t);return Object.assign(t,a),t.innerHTML=e,t.firstElementChild},wrap:function(t,a){if(t&&a){let e;return e="object"==typeof a&&1===a.nodeType?a:this.createElement(a),t.parentNode.insertBefore(e,t),e.appendChild(t),e}},headerHeightCalculate:function(){let t=document.querySelector(".site-header"),a=t.querySelector(".header-main .primary-menu"),r=document.querySelector(".site-header .header-sub"),o=document.querySelector(".site-announcement-bar"),l=document.documentElement,e=window.matchMedia("(min-width: 1024.02px)");var n=()=>{if(e.matches){let e=parseFloat(getComputedStyle(l).getPropertyValue("--theme-header-height-desktop"));r&&!a&&(e+=r.offsetHeight),o&&(e+=o.offsetHeight),t.style.setProperty("--header-height-desktop",e+"px")}else t.style.removeProperty("--header-height-desktop")};n(),e.addEventListener("change",n)},megaMenuWrap:function(){var e=document.querySelectorAll(".site-nav.menu-horizontal .mega-menu > .sub-menu");null!==e&&e.forEach(e=>{this.wrap(e,"<div class='sub-menu mega-sub-menu'></div>")})},drawerAnimation:function(){let r=document.querySelectorAll(".site-drawer"),o=document.querySelectorAll(".toggle-button");var e=document.querySelectorAll(".site-close a"),t=document.querySelectorAll(".site-drawer-overlay");let l=()=>{r.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")),document.body.classList.remove("drawer-open")};o.forEach(a=>{a.addEventListener("click",e=>{e.preventDefault();let t=Array.from(a.classList).find(e=>e.endsWith("-toggle")).replace("-toggle","");l(),r.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")),a.classList.add("active");e=Array.from(r).find(e=>e.classList.contains(t+"-drawer"));e&&e.classList.add("active"),document.body.classList.add("drawer-open")})}),e.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),l()})}),t.forEach(e=>{e.addEventListener("click",l)}),document.addEventListener("click",e=>{e.target.closest(".site-drawer")||e.target.closest(".toggle-button")||l()})},mobileDropdownMenu:function(){let l=window.matchMedia("(max-width: 1023px)");function n(e){let t=e.scrollHeight;return e.querySelectorAll(".active > .sub-menu").forEach(e=>{t+=e.scrollHeight}),t}function t(e){if(document.querySelectorAll(".site-nav.menu-vertical").forEach(e=>{e.querySelectorAll(".menu-item-has-children").forEach(e=>{var t=e.querySelector(".menu-item-wrapper"),a=(t&&(a=t.querySelector("a"),e.insertBefore(a,t),t.remove()),e.mobileMenuHandlers&&(e.querySelector("a").removeEventListener("click",e.mobileMenuHandlers.link),delete e.mobileMenuHandlers),e.classList.remove("active"),e.querySelector(".sub-menu"));a&&(a.style.maxHeight="")})}),e.matches)document.querySelectorAll(".site-nav.menu-vertical").forEach(e=>{e.querySelectorAll(".menu-item-has-children").forEach(t=>{let a=t.querySelector("a");var e=document.createElement("div"),r=(e.className="menu-item-wrapper",a.parentNode.insertBefore(e,a),e.appendChild(a),document.createElement("div"));r.className="dropdown-icon-wrapper",r.innerHTML=`
          <svg class="dropdown-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        `,e.appendChild(r);let o=t.querySelector(".sub-menu");var e=e=>{"#"===a.getAttribute("href")&&(e.preventDefault(),i(t,o))},l=e=>{e.stopPropagation(),i(t,o)};t.mobileMenuHandlers={link:e,icon:l},a.addEventListener("click",e),r.addEventListener("click",l)})})}function i(a,t){if(l.matches){var e=a.classList.contains("active");if(a.parentElement.querySelectorAll(".menu-item.active").forEach(e=>{var t;e!==a&&(e.classList.remove("active"),(t=e.querySelector(".sub-menu"))&&(t.style.maxHeight="0px"),e.querySelectorAll(".active").forEach(e=>{e.classList.remove("active");e=e.querySelector(".sub-menu");e&&(e.style.maxHeight="0px")}))}),e){if(a.classList.remove("active"),t){t.style.maxHeight="0px";let e=a.parentElement.closest(".sub-menu");for(;e;){var r=n(e);e.style.maxHeight=r+"px",e=e.parentElement.closest(".sub-menu")}}a.querySelectorAll(".active").forEach(e=>{e.classList.remove("active");e=e.querySelector(".sub-menu");e&&(e.style.maxHeight="0px")})}else if(a.classList.add("active"),t){t.style.maxHeight=t.scrollHeight+"px";let e=a.parentElement.closest(".sub-menu");for(;e;){var o=n(e);e.style.maxHeight=o+"px",e=e.parentElement.closest(".sub-menu")}}}}document.addEventListener("DOMContentLoaded",()=>{t(l);try{l.addEventListener("change",t)}catch(e){try{l.addListener(t)}catch(e){console.error("Could not add media query listener:",e)}}})},slider:function(){document.querySelectorAll(".site-slider").forEach(e=>{var t=f(e).data("items")||4,a=f(e).data("items-tablet")||2,r=f(e).data("items-mobile")||1,o=f(e).data("items-scroll")||1,l=f(e).data("items-scroll-tablet")||1,n=f(e).data("items-scroll-mobile")||1,i=f(e).data("speed")||900,s=f(e).data("arrows")||!0,c=f(e).data("arrows-tablet")||!0,d=f(e).data("arrows-mobile")||!0,u=f(e).data("dots")||!1,m=f(e).data("dots-tablet")||!1,h=f(e).data("dots-mobile")||!1,v=f(e).data("infinite")||!1,p=f(e).data("autoplay")||!1,y=f(e).data("autoplay-speed")||3e3,t={slidesToShow:t,slidesToScroll:o,speed:i,arrows:s,dots:u,asNavFor:f(e).data("for")||!1,focusOnSelect:f(e).data("focus")||!1,touchThreshold:100,rows:0,fade:!1,infinite:v,autoplay:p,autoplaySpeed:y,prevArrow:'<button type="button" class="slick-nav slick-prev slick-button unset"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" fill="currentColor"><polyline fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" points="17.2,22.4 6.8,12 17.2,1.6 "/></svg></button>',nextArrow:'<button type="button" class="slick-nav slick-next slick-button unset"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" fill="currentColor"><polyline fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" points="6.8,22.4 17.2,12 6.8,1.6 "/></svg></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:a,slidesToScroll:l,arrows:c,dots:m}},{breakpoint:768,settings:{slidesToShow:r,slidesToScroll:n,arrows:d,dots:h}},{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]};f(e).not(".slick-initialized").slick(t)})},countdown:function(){f(".site-countdown").each(function(){var e=f(this),t=f(this).data("date"),a=f(this).data("timezone");let r=e.find(".days"),o=e.find(".hours"),l=e.find(".minutes"),n=e.find(".second");t=moment.tz(t,a);e.countdown(t.toDate(),function(e){r.html(e.strftime("%D")),o.html(e.strftime("%H")),l.html(e.strftime("%M")),n.html(e.strftime("%S"))})})},hoverSlider:function(){var e=document.querySelectorAll(".hover-gallery-slider");null!==e&&e.forEach(e=>{new HoverSlider({selector:e,debug:!1,duration:Number(.4),delay:Number(0),easing:"cubic-bezier(0.4, 0, 0.2, 1)"})})},stickyCategory:function(){let r=document.querySelector(".site-sticky-category");var e;null!==r&&((e=()=>{var e=window.pageYOffset||document.documentElement.scrollTop,t=document.documentElement.scrollHeight,a=document.documentElement.clientHeight;0===e||t-(e+a)<=100?(r.classList.add("disable"),r.classList.remove("active")):(r.classList.remove("disable"),100<e?r.classList.add("active"):r.classList.remove("active"))})(),window.addEventListener("scroll",e))},productQuantity:function(){let i=(e,a)=>{var r=document.querySelectorAll(".cart-with-quantity");if(null!==r)for(var o=0;o<r.length;o++){var l=r[o],n=l.querySelector(".add-to-cart-quantity");let t=l.querySelector(".ajax-quantity");n.addEventListener("click",e=>{e.preventDefault(),e.target.closest("A").style.cssText="display: none",t.style.cssText="display: flex"}),0===Number(e)&&(l=a.closest(".quantity.ajax-quantity"),a.closest(".cart-with-quantity").querySelector(".add-to-cart-quantity").style.cssText="display: inline-flex",l.style.cssText="display: none !important")}};var e=document.querySelectorAll(".quantity");if(null!==e)for(var t=0;t<e.length;t++){let n=e[t];var a=()=>{var e=n.querySelectorAll(".quantity-button");null!==e&&e.forEach(e=>{let l=n.querySelector(".input-text.qty");if(!l.disabled){let a=parseFloat(l.getAttribute("step")),r=parseFloat(l.getAttribute("min")),o=parseFloat(l.getAttribute("max"));e.addEventListener("click",e=>{var t;e.target.closest("DIV").classList.contains("minus")?(t=parseFloat(l.value),isNaN(t)&&(l.val=0),l.value=t-a<r?r:t-a):(t=parseFloat(l.value),isNaN(t)&&(l.val=0),l.value=t+a>o?o:t+a),l.addEventListener("change",()=>{i(l.value,e.target),n.classList.contains("ajax-quantity")&&"0"===l.value&&(l.value=1)}),l.dispatchEvent(new Event("change"))})}})};a(),n.classList.contains("ajax-quantity")||f("body").on("updated_cart_totals",a)}},themeLoginTab:function(){let t=document.querySelectorAll(".login-page-tab li"),a=document.querySelector(".login-form-container");if(null!==t&&null!==a)for(var e=0;e<t.length;e++)t[e].children[0].addEventListener("click",e=>{e.preventDefault(),e.target.classList.contains("active")||((()=>{for(var e=0;e<t.length;e++)t[e].children[0].classList.contains("active")&&t[e].children[0].classList.remove("active")})(),e.target.classList.add("active"),a.classList.toggle("show-register-form"))})},themeMyAccountMenu(){var e=document.querySelector(".user-menu-toggle a");let t=document.querySelector(".my-account-navigation");null===e&&null===t||e.addEventListener("click",e=>{e.preventDefault(),t.classList.toggle("active")})},themeQuickView(){var e=document.querySelectorAll(".product-quickview a");if(null!==e)for(var t=0;t<e.length;t++){var a=e[t];f(a).magnificPopup({type:"inline"})}}}).init()})(jQuery);